<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1.0,user-scalable=no">
    <title>zepto</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/index.css">
    <script src="zepto/zepto.min.js"></script>
    <script src="zepto/selector.js"></script>
    <script src="zepto/fx.js"></script>
    <script src="zepto/touch.js"></script>
</head>
<body>
<div class="jd-layout">
    <!--搜索栏 start-->
    <header class="jd-header">
        <div class="jd-header-box">
            <a href="#" class="icon-logo"></a>
            <form action="">
                <span class="icon-search"></span>
                <input type="search" placeholder="提示">
            </form>
            <a href="#" class="jd-login">登录</a>
        </div>
    </header>
    <!--搜索栏 end-->
    <!--广告栏 start-->
    <div class="jd-banner">
        <ul class="clearfix">
            <li><a href="#"><img src="images/l8.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l1.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l2.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l3.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l4.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l5.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l6.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l7.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l8.jpg" alt=""></a></li>
            <li><a href="#"><img src="images/l1.jpg" alt=""></a></li>
        </ul>
        <ul>
            <li></li>
            <li class="now"></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
            <li></li>
        </ul>
    </div>
    <!--广告栏 end-->
    <!--导航栏 start-->
    <nav class="jd-nav">
        <ul class="clearfix">
            <li><a href="#"><img src="images/nav0.png" alt=""></a><p>分类查询</p></li>
            <li><a href="#"><img src="images/nav1.png" alt=""></a><p>分类查询</p></li>
            <li><a href="#"><img src="images/nav2.png" alt=""></a><p>分类查询</p></li>
            <li><a href="#"><img src="images/nav3.png" alt=""></a><p>分类查询</p></li>
            <li><a href="#"><img src="images/nav4.png" alt=""></a><p>分类查询</p></li>
            <li><a href="#"><img src="images/nav5.png" alt=""></a><p>分类查询</p></li>
            <li><a href="#"><img src="images/nav6.png" alt=""></a><p>分类查询</p></li>
            <li><a href="#"><img src="images/nav7.png" alt=""></a><p>分类查询</p></li>
        </ul>
    </nav>
    <!--导航栏 end-->
    <main class="jd-product">
        <section class="product-box">
            <div class="product-tit no-border">
                <div class="f_left">
                    <span class="sk-icon ml-10"></span>
                    <span class="sk-word ml-10">掌上秒杀</span>
                    <div class="sk-time  ml-10">
                        <span>0</span>
                        <span>0</span>
                        <span>:</span>
                        <span>0</span>
                        <span>0</span>
                        <span>:</span>
                        <span>0</span>
                        <span>0</span>
                    </div>
                </div>
                <div class="f_right"><a href="#" class="mr-10">更多&gt;</a></div>
            </div>
            <div class="product-con">
                <ul class="sk-product clearfix">
                    <li><a href="#">
                        <img src="images/detail01.jpg" alt=""></a>
                        <p>&yen;10</p>
                        <p>&yen;1000</p>
                    </li>
                    <li><a href="#">
                        <img src="images/detail01.jpg" alt=""></a>
                        <p>&yen;10</p>
                        <p>&yen;1000</p>
                    </li>
                    <li><a href="#">
                        <img src="images/detail01.jpg" alt=""></a>
                        <p>&yen;10</p>
                        <p>&yen;1000</p>
                    </li>
                </ul>
            </div>
        </section>
        <section class="product-box">
            <div class="product-tit">
                <h3>京东超市</h3>
            </div>
            <div class="product-con clearfix">
                    <a href="#" class="b-right w-50 f_left"><img src="images/cp1.jpg" alt=""></a>
                    <a href="#" class="b-bottom w-50 f_right"><img src="images/cp2.jpg" alt=""></a>
                    <a href="#" class="w-50 f_right"><img src="images/cp3.jpg" alt=""></a>
            </div>
        </section>
        <section class="product-box">
            <div class="product-tit">
                <h3>京东超市</h3>
            </div>
            <div class="product-con clearfix">
                <a href="#" class="b-right w-50 f_left"><img src="images/cp4.jpg" alt=""></a>
                <a href="#" class="b-bottom w-50 f_left"><img src="images/cp5.jpg" alt=""></a>
                <a href="#" class="w-50 f_right"><img src="images/cp6.jpg" alt=""></a>
            </div>
        </section>
        <section class="product-box">
            <div class="product-tit">
                <h3>京东超市</h3>
            </div>
            <div class="product-con clearfix">
                <a href="#" class="b-right w-50 f_left"><img src="images/cp1.jpg" alt=""></a>
                <a href="#" class="b-bottom w-50 f_right"><img src="images/cp2.jpg" alt=""></a>
                <a href="#" class="w-50 f_right"><img src="images/cp3.jpg" alt=""></a>
            </div>
        </section>
    </main>
</div>
</body>
</html>
<script>
    //用zepton框架来写轮播图
    $(function () {
        var $banner=$(".jd-banner");
        var $imgBox=$banner.find("ul:first");
        var $pointBox=$banner.find("ul:last");
        var $points=$pointBox.find("li");
        var width=$banner.width();
        //轮播'
        var index=1;
        //动画公用方法封装
        var animatefunc= function (callback) {
            $imgBox.animate({"transform":"translateX("+(-index*width)+"px)"},200,"ease",function (){
                //动画结束进行判断
                if(index>=9){
                    index=1;
                    //瞬间定位
                    $imgBox.css({"transform":"translateX("+(-index*width)+"px)"});
                }
                if(index<=0){
                    index=8;
                    $imgBox.css({"transform":"translateX("+(-index*width)+"px)"});
                }
                //当前图片index为1 时 的点的索引值为0
                console.log(index);
                $points.removeClass("now").eq(index-1).addClass("now");
//                如果传入参数 则执行 如果没有传入 则不执行
                callback && callback();
            });
        }
        var timer=setInterval(function () {
            index++;
            animatefunc();
        },1000)
        $imgBox.on('swipeLeft',function(){
            clearInterval(timer);
            index ++ ;
            animatefunc(function(){
                clearInterval(timer);
                timer = setInterval(function(){
                    index ++;
                    /*做动画*/
                    animatefunc();
                },5000);
            });
        });
        $imgBox.on('swipeRight',function(){
            clearInterval(timer);
            index --;
            animatefunc(function(){
                clearInterval(timer);
                timer = setInterval(function(){
                    index ++;
                    /*做动画*/
                    animatefunc();
                },5000);
            });
        });
    })
</script>